# ãƒ©ã‚¤ãƒ–é…ä¿¡ãƒ»VODã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**æœ€çµ‚æ›´æ–°æ—¥**: 2026-02-23  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: StreamingPlatform  
**ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/yotamatsumaru/0222-VOD

---

## ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#2-ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [æ©Ÿèƒ½ä»•æ§˜](#3-æ©Ÿèƒ½ä»•æ§˜)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#4-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
5. [APIä»•æ§˜](#5-apiä»•æ§˜)
6. [èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#6-èªè¨¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
7. [æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ](#7-æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ )
8. [å‹•ç”»é…ä¿¡ã‚·ã‚¹ãƒ†ãƒ ](#8-å‹•ç”»é…ä¿¡ã‚·ã‚¹ãƒ†ãƒ )
9. [UI/UXãƒ‡ã‚¶ã‚¤ãƒ³](#9-uiuxãƒ‡ã‚¶ã‚¤ãƒ³)
10. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#10-ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)
11. [é–‹ç™ºã‚¬ã‚¤ãƒ‰](#11-é–‹ç™ºã‚¬ã‚¤ãƒ‰)
12. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#12-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„

ãƒ©ã‚¤ãƒ–é…ä¿¡ãŠã‚ˆã³VODï¼ˆVideo on Demandï¼‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æä¾›ã™ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã®ãƒ©ã‚¤ãƒ–ã‚¤ãƒ™ãƒ³ãƒˆã‚„ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»ã‚’æœ‰æ–™ãƒã‚±ãƒƒãƒˆåˆ¶ã§è¦–è´ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½**
  - ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒ»è©³ç´°è¡¨ç¤º
  - ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§ãƒ»è©³ç´°è¡¨ç¤º
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
  - ãƒã‚±ãƒƒãƒˆè³¼å…¥ï¼ˆStripeæ±ºæ¸ˆï¼‰
  - è³¼å…¥å±¥æ­´ç¢ºèªï¼ˆãƒã‚¤ãƒšãƒ¼ã‚¸ï¼‰
  - å‹•ç”»è¦–è´ï¼ˆHLS.js ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ï¼‰
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½

- **ç®¡ç†ç”»é¢æ©Ÿèƒ½**
  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå£²ä¸Šçµ±è¨ˆã€è³¼å…¥æ•°ï¼‰
  - ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ï¼ˆCRUDã€ä¸€æ‹¬æ“ä½œã€ã‚½ãƒ¼ãƒˆï¼‰
  - ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç®¡ç†ï¼ˆCRUDï¼‰
  - ãƒã‚±ãƒƒãƒˆç®¡ç†ï¼ˆCRUDï¼‰
  - è³¼å…¥å±¥æ­´é–²è¦§

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | Next.js (App Router) | 16.1.6 |
| **è¨€èª** | TypeScript | 5.9+ |
| **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°** | Tailwind CSS | 4.2+ |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | PostgreSQL | 14+ |
| **ORM** | ç›´æ¥SQLï¼ˆpgï¼‰ | 8.x |
| **èªè¨¼** | JWT (jsonwebtoken) | 9.x |
| **æ±ºæ¸ˆ** | Stripe | Latest |
| **å‹•ç”»å†ç”Ÿ** | HLS.js | 1.x |
| **ãƒ‡ãƒ—ãƒ­ã‚¤** | AWS EC2 + RDS | - |
| **å‹•ç”»é…ä¿¡** | AWS IVS / MediaLive | - |

---

## 2. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 2.1 å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ                          â”‚
â”‚                    (Next.js Frontend)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ãƒˆãƒƒãƒ—      â”‚ ã‚¤ãƒ™ãƒ³ãƒˆ    â”‚ ãƒã‚¤ãƒšãƒ¼ã‚¸  â”‚ è¦–è´ãƒšãƒ¼ã‚¸  â”‚ â”‚
â”‚  â”‚ ãƒšãƒ¼ã‚¸      â”‚ è©³ç´°        â”‚            â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTPS
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js API Routes                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /api/authâ”‚ /api/    â”‚ /api/    â”‚ /api/    â”‚ /api/    â”‚  â”‚
â”‚  â”‚          â”‚ events   â”‚ artists  â”‚ purchasesâ”‚ watch    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚                    â”‚
        â–¼              â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL   â”‚ â”‚   Stripe     â”‚   â”‚   AWS IVS    â”‚
â”‚   Database   â”‚ â”‚     API      â”‚   â”‚  (Stream)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
streaming-platform-nextjs/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ api/                  # API Routes
â”‚   â”‚   â”œâ”€â”€ admin/           # ç®¡ç†ç³»API
â”‚   â”‚   â”œâ”€â”€ auth/            # èªè¨¼API
â”‚   â”‚   â”œâ”€â”€ events/          # ã‚¤ãƒ™ãƒ³ãƒˆAPI
â”‚   â”‚   â”œâ”€â”€ artists/         # ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆAPI
â”‚   â”‚   â”œâ”€â”€ purchases/       # è³¼å…¥å±¥æ­´API
â”‚   â”‚   â”œâ”€â”€ stripe/          # Stripe Webhook
â”‚   â”‚   â””â”€â”€ watch/           # è¦–è´èªè¨¼API
â”‚   â”œâ”€â”€ admin/               # ç®¡ç†ç”»é¢
â”‚   â”œâ”€â”€ events/              # ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ artists/             # ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ login/               # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ register/            # æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ mypage/              # ãƒã‚¤ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ watch/[slug]/        # è¦–è´ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ layout.tsx           # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx             # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ globals.css          # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSS
â”œâ”€â”€ components/              # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ admin/              # ç®¡ç†ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Navigation.tsx      # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ EventCard.tsx       # ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ WatchPlayer.tsx     # å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼
â”‚   â”œâ”€â”€ TicketPurchase.tsx  # ãƒã‚±ãƒƒãƒˆè³¼å…¥
â”‚   â””â”€â”€ Toast.tsx           # é€šçŸ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ lib/                     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ db.ts               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
â”‚   â”œâ”€â”€ auth.ts             # JWTèªè¨¼
â”‚   â”œâ”€â”€ userAuth.ts         # ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
â”‚   â”œâ”€â”€ adminAuth.ts        # ç®¡ç†è€…èªè¨¼
â”‚   â”œâ”€â”€ stripe.ts           # Stripeè¨­å®š
â”‚   â”œâ”€â”€ cloudfront.ts       # CloudFrontç½²å
â”‚   â””â”€â”€ email.ts            # ãƒ¡ãƒ¼ãƒ«é€ä¿¡
â”œâ”€â”€ public/                  # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .env.local              # ç’°å¢ƒå¤‰æ•°
â”œâ”€â”€ package.json            # ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ tsconfig.json           # TypeScriptè¨­å®š
â””â”€â”€ tailwind.config.ts      # Tailwindè¨­å®š
```

### 2.3 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

#### 2.3.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼
  â”‚
  â”œâ”€â–º [POST] /api/auth/register
  â”‚     â””â”€â–º ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆbcryptï¼‰
  â”‚           â””â”€â–º DBä¿å­˜ï¼ˆusers ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  â”‚                 â””â”€â–º JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
  â”‚
  â””â”€â–º [POST] /api/auth/login
        â””â”€â–º ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
              â””â”€â–º JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
                    â””â”€â–º localStorageä¿å­˜ï¼ˆauth_tokenï¼‰
```

#### 2.3.2 ãƒã‚±ãƒƒãƒˆè³¼å…¥ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼
  â”‚
  â”œâ”€â–º ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸
  â”‚     â””â”€â–º ãƒã‚±ãƒƒãƒˆé¸æŠ
  â”‚
  â”œâ”€â–º [POST] /api/stripe/checkout
  â”‚     â””â”€â–º Stripe Checkout Sessionä½œæˆ
  â”‚           â””â”€â–º ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ â†’ Stripeæ±ºæ¸ˆç”»é¢
  â”‚
  â”œâ”€â–º æ±ºæ¸ˆå®Œäº†
  â”‚     â””â”€â–º [POST] /api/stripe/webhook
  â”‚           â””â”€â–º è³¼å…¥ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆï¼ˆpurchases ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  â”‚                 â””â”€â–º ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œï¼ˆJWTï¼‰
  â”‚
  â””â”€â–º /success ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
        â””â”€â–º ãƒã‚¤ãƒšãƒ¼ã‚¸ã§è³¼å…¥å±¥æ­´ç¢ºèªå¯èƒ½
```

#### 2.3.3 å‹•ç”»è¦–è´ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼
  â”‚
  â”œâ”€â–º ãƒã‚¤ãƒšãƒ¼ã‚¸ â†’ ã€Œè¦–è´ã™ã‚‹ã€ãƒœã‚¿ãƒ³
  â”‚     â””â”€â–º /watch/[slug]?token=xxx ã«ã‚¢ã‚¯ã‚»ã‚¹
  â”‚
  â”œâ”€â–º [POST] /api/watch/verify
  â”‚     â””â”€â–º ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
  â”‚           â””â”€â–º ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±å–å¾—
  â”‚
  â”œâ”€â–º [POST] /api/watch/stream-url
  â”‚     â””â”€â–º ã‚¹ãƒˆãƒªãƒ¼ãƒ URLå–å¾—
  â”‚           â””â”€â–º CloudFrontç½²åä»˜ãURLç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  â”‚
  â””â”€â–º HLS.js ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ å†ç”Ÿ
        â””â”€â–º ç”»è³ªè‡ªå‹•èª¿æ•´ or æ‰‹å‹•åˆ‡ã‚Šæ›¿ãˆ
```

---

## 3. æ©Ÿèƒ½ä»•æ§˜

### 3.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½

#### 3.1.1 ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆ`/`ï¼‰

**ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§è¡¨ç¤ºã€ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹

**è¡¨ç¤ºå†…å®¹**:
- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆèƒŒæ™¯ï¼šç´«ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- æœ€æ–°ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ï¼ˆã‚«ãƒ¼ãƒ‰å½¢å¼ï¼‰
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§ã¸ã®ãƒªãƒ³ã‚¯

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/page.tsx`

#### 3.1.2 ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆ`/events`ï¼‰

**ç›®çš„**: ã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä¸€è¦§è¡¨ç¤º

**è¡¨ç¤ºå†…å®¹**:
- ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ï¼ˆã‚µãƒ ãƒã‚¤ãƒ«ã€ã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆé…ä¿¡ä¸­ã€é…ä¿¡äºˆå®šã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼‰

**API**: `GET /api/events`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/events/page.tsx`, `components/EventCard.tsx`

#### 3.1.3 ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ`/events/[slug]`ï¼‰

**ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆã®è©³ç´°æƒ…å ±ã¨ãƒã‚±ãƒƒãƒˆè³¼å…¥

**è¡¨ç¤ºå†…å®¹**:
- ã‚¤ãƒ™ãƒ³ãƒˆç”»åƒ
- ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€æ—¥æ™‚
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆæƒ…å ±
- ãƒã‚±ãƒƒãƒˆé¸æŠãƒ»è³¼å…¥ãƒœã‚¿ãƒ³ï¼ˆStripe Checkoutï¼‰

**API**: `GET /api/events/[slug]`, `GET /api/events/[slug]/tickets`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/events/[slug]/page.tsx`, `components/TicketPurchase.tsx`

#### 3.1.4 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆ`/artists`ï¼‰

**ç›®çš„**: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§è¡¨ç¤º

**è¡¨ç¤ºå†…å®¹**:
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ï¼ˆç”»åƒã€åå‰ã€èª¬æ˜ï¼‰

**API**: `GET /api/artists`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/artists/page.tsx`

#### 3.1.5 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ`/artists/[slug]`ï¼‰

**ç›®çš„**: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã®è©³ç´°æƒ…å ±ã¨ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

**è¡¨ç¤ºå†…å®¹**:
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç”»åƒ
- åå‰ã€èª¬æ˜
- é–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

**API**: `GET /api/artists/[slug]`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/artists/[slug]/page.tsx`

#### 3.1.6 ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆ`/login`ï¼‰

**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³

**ãƒ•ã‚©ãƒ¼ãƒ **:
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆã®ãƒªãƒ³ã‚¯

**API**: `POST /api/auth/login`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/login/page.tsx`

**èªè¨¼æ–¹å¼**:
```typescript
localStorage.setItem('auth_token', jwt_token);
```

#### 3.1.7 æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ï¼ˆ`/register`ï¼‰

**ç›®çš„**: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ãƒ•ã‚©ãƒ¼ãƒ **:
- åå‰
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
- ç™»éŒ²ãƒœã‚¿ãƒ³

**API**: `POST /api/auth/register`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/register/page.tsx`

#### 3.1.8 ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼ˆ`/mypage`ï¼‰

**ç›®çš„**: è³¼å…¥å±¥æ­´ç¢ºèªã¨è¦–è´

**è¡¨ç¤ºå†…å®¹**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- è³¼å…¥å±¥æ­´ãƒªã‚¹ãƒˆ
  - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«
  - ãƒã‚±ãƒƒãƒˆå
  - è³¼å…¥æ—¥
  - é‡‘é¡
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆå®Œäº†ã€è¿”é‡‘ã€ä¿ç•™ï¼‰
  - ã€Œè¦–è´ã™ã‚‹ã€ãƒœã‚¿ãƒ³ï¼ˆè¦–è´å¯èƒ½æœŸé–“å†…ï¼‰
  - ã€Œã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ã€ãƒªãƒ³ã‚¯

**API**: `GET /api/auth/me`, `GET /api/purchases/my`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/mypage/page.tsx`

**èªè¨¼**: 
- SSRæ™‚ã®localStorageéå¯¾å¿œå•é¡Œã‚’è§£æ±ºï¼ˆmountedçŠ¶æ…‹ç®¡ç†ï¼‰
- auth_token ã‚­ãƒ¼ã§çµ±ä¸€

#### 3.1.9 è¦–è´ãƒšãƒ¼ã‚¸ï¼ˆ`/watch/[slug]?token=xxx`ï¼‰

**ç›®çš„**: å‹•ç”»è¦–è´

**è¡¨ç¤ºå†…å®¹**:
- HLS.js å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãªã—ï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã€æ—¥æ™‚ã€èª¬æ˜ï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ï¼ˆé…ä¿¡ä¸­ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼‰
- ç”»è³ªè¨­å®šï¼ˆå‹•ç”»ã®ä¸‹ã«é…ç½®ï¼‰
  - è‡ªå‹•
  - 360p, 720p, 1080pï¼ˆåˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰
- è¦–è´ã®ãƒ’ãƒ³ãƒˆ

**API**: `POST /api/watch/verify`, `POST /api/watch/stream-url`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/watch/[slug]/page.tsx`, `components/WatchPlayer.tsx`

**ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**:
- ãƒ¢ãƒã‚¤ãƒ«: 2åˆ—ã‚°ãƒªãƒƒãƒ‰
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 3åˆ—ã‚°ãƒªãƒƒãƒ‰
- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 4-6åˆ—ã‚°ãƒªãƒƒãƒ‰

**ç”»è³ªåˆ‡ã‚Šæ›¿ãˆ**:
```typescript
// HLS.js ã®å ´åˆ
hls.currentLevel = level; // -1: auto, 0+: specific level

// Safari (ãƒã‚¤ãƒ†ã‚£ãƒ–HLS) ã®å ´åˆ
// è‡ªå‹•ç”»è³ªã®ã¿ã€æ‰‹å‹•åˆ‡ã‚Šæ›¿ãˆä¸å¯
```

#### 3.1.10 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆï¼ˆ`/forgot-password`, `/reset-password`ï¼‰

**ç›®çš„**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¿˜ã‚ŒãŸå ´åˆã®å†è¨­å®š

**ãƒ•ãƒ­ãƒ¼**:
1. `/forgot-password`: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›
2. ãƒ¡ãƒ¼ãƒ«ã§ãƒªã‚»ãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³é€ä¿¡
3. `/reset-password?token=xxx`: æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ›´æ–°

**API**: `POST /api/auth/forgot-password`, `POST /api/auth/reset-password`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/forgot-password/page.tsx`, `app/reset-password/page.tsx`

### 3.2 ç®¡ç†ç”»é¢æ©Ÿèƒ½

#### 3.2.1 ç®¡ç†ç”»é¢ãƒˆãƒƒãƒ—ï¼ˆ`/admin`ï¼‰

**èªè¨¼**: Basicèªè¨¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: admin / admin123ï¼‰

**ã‚¿ãƒ–æ§‹æˆ**:
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç®¡ç†
- ãƒã‚±ãƒƒãƒˆç®¡ç†
- è³¼å…¥å±¥æ­´

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `app/admin/page.tsx`

#### 3.2.2 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**è¡¨ç¤ºå†…å®¹**:
- ç·å£²ä¸Š
- ç·è³¼å…¥æ•°
- ã‚¤ãƒ™ãƒ³ãƒˆæ•°
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆæ•°
- æœ€è¿‘ã®è³¼å…¥ï¼ˆ5ä»¶ï¼‰

**API**: `GET /api/admin/stats`, `GET /api/admin/purchases`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/Dashboard.tsx`

#### 3.2.3 ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†

**æ©Ÿèƒ½**:
- ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§è¡¨ç¤º
- æ–°è¦ä½œæˆ
- ç·¨é›†
- å‰Šé™¤
- ä¸€æ‹¬å‰Šé™¤
- ä¸€æ‹¬ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´
- ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€é…ä¿¡æ™‚åˆ»ï¼‰

**ãƒ•ã‚©ãƒ¼ãƒ é …ç›®**:
- ã‚¿ã‚¤ãƒˆãƒ«
- ã‚¹ãƒ©ãƒƒã‚°
- èª¬æ˜
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆé¸æŠ
- é…ä¿¡é–‹å§‹æ—¥æ™‚
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆä¸‹æ›¸ãã€é…ä¿¡äºˆå®šã€é…ä¿¡ä¸­ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã€é…ä¿¡çµ‚äº†ï¼‰
- ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒURL
- é…ä¿¡URLï¼ˆstream_urlï¼‰
- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–URLï¼ˆarchive_urlï¼‰

**API**: 
- `GET /api/admin/events`
- `POST /api/admin/events`
- `PUT /api/admin/events/[id]`
- `DELETE /api/admin/events/[id]`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/EventsManager.tsx`

**ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**:
- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
- ãƒ¢ãƒã‚¤ãƒ«: ã‚«ãƒ¼ãƒ‰è¡¨ç¤º

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ©ãƒ¼**:
- ä¸‹æ›¸ã: ã‚°ãƒ¬ãƒ¼
- é…ä¿¡äºˆå®š: ãƒ–ãƒ«ãƒ¼
- é…ä¿¡ä¸­: ãƒ¬ãƒƒãƒ‰ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–: ã‚°ãƒªãƒ¼ãƒ³
- é…ä¿¡çµ‚äº†: ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼

#### 3.2.4 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç®¡ç†

**æ©Ÿèƒ½**:
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§è¡¨ç¤º
- æ–°è¦ä½œæˆ
- ç·¨é›†
- å‰Šé™¤

**ãƒ•ã‚©ãƒ¼ãƒ é …ç›®**:
- åå‰
- ã‚¹ãƒ©ãƒƒã‚°
- èª¬æ˜
- ç”»åƒURL

**API**: 
- `GET /api/admin/artists`
- `POST /api/admin/artists`
- `PUT /api/admin/artists/[id]`
- `DELETE /api/admin/artists/[id]`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/ArtistsManager.tsx`

#### 3.2.5 ãƒã‚±ãƒƒãƒˆç®¡ç†

**æ©Ÿèƒ½**:
- ãƒã‚±ãƒƒãƒˆä¸€è¦§è¡¨ç¤º
- æ–°è¦ä½œæˆ
- ç·¨é›†
- å‰Šé™¤

**ãƒ•ã‚©ãƒ¼ãƒ é …ç›®**:
- ã‚¤ãƒ™ãƒ³ãƒˆé¸æŠ
- ãƒã‚±ãƒƒãƒˆå
- ä¾¡æ ¼
- é€šè²¨ï¼ˆJPY, USDï¼‰
- èª¬æ˜
- åœ¨åº«æ•°
- æœ‰åŠ¹/ç„¡åŠ¹

**API**: 
- `GET /api/admin/tickets`
- `POST /api/admin/tickets`
- `PUT /api/admin/tickets/[id]`
- `DELETE /api/admin/tickets/[id]`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/TicketsManager.tsx`

**Toasté€šçŸ¥**: æˆåŠŸãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

#### 3.2.6 è³¼å…¥å±¥æ­´

**è¡¨ç¤ºå†…å®¹**:
- è³¼å…¥ID
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«
- ã‚¤ãƒ™ãƒ³ãƒˆå
- ãƒã‚±ãƒƒãƒˆå
- é‡‘é¡
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- è³¼å…¥æ—¥æ™‚

**API**: `GET /api/admin/purchases`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/PurchasesView.tsx`

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 4.1 ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§

| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ |
|-----------|------|
| `users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| `artists` | ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆæƒ…å ± |
| `events` | ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ± |
| `tickets` | ãƒã‚±ãƒƒãƒˆç¨®åˆ¥ |
| `purchases` | è³¼å…¥å±¥æ­´ |
| `password_reset_tokens` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³ |

### 4.2 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### 4.2.1 users ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(255) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_users_email ON users(email);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `name`: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- `email`: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¸€æ„ï¼‰
- `password`: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆbcryptãƒãƒƒã‚·ãƒ¥åŒ–ï¼‰
- `created_at`: ä½œæˆæ—¥æ™‚
- `updated_at`: æ›´æ–°æ—¥æ™‚

#### 4.2.2 artists ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE artists (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  slug VARCHAR(100) NOT NULL UNIQUE,
  description TEXT,
  image_url TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_artists_slug ON artists(slug);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆIDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `name`: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆå
- `slug`: URLç”¨ã‚¹ãƒ©ãƒƒã‚°ï¼ˆä¸€æ„ï¼‰
- `description`: èª¬æ˜
- `image_url`: ç”»åƒURL
- `created_at`: ä½œæˆæ—¥æ™‚
- `updated_at`: æ›´æ–°æ—¥æ™‚

#### 4.2.3 events ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE events (
  id SERIAL PRIMARY KEY,
  title VARCHAR(200) NOT NULL,
  slug VARCHAR(200) NOT NULL UNIQUE,
  description TEXT,
  artist_id INTEGER REFERENCES artists(id) ON DELETE SET NULL,
  start_time TIMESTAMP NOT NULL,
  status VARCHAR(20) DEFAULT 'draft',
  thumbnail_url TEXT,
  stream_url TEXT,
  archive_url TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_events_slug ON events(slug);
CREATE INDEX idx_events_artist_id ON events(artist_id);
CREATE INDEX idx_events_status ON events(status);
CREATE INDEX idx_events_start_time ON events(start_time DESC);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: ã‚¤ãƒ™ãƒ³ãƒˆIDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `title`: ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«
- `slug`: URLç”¨ã‚¹ãƒ©ãƒƒã‚°ï¼ˆä¸€æ„ï¼‰
- `description`: èª¬æ˜
- `artist_id`: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆIDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `start_time`: é…ä¿¡é–‹å§‹æ—¥æ™‚
- `status`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`draft`, `upcoming`, `live`, `archived`, `ended`ï¼‰
- `thumbnail_url`: ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒURL
- `stream_url`: ãƒ©ã‚¤ãƒ–é…ä¿¡URLï¼ˆHLS .m3u8ï¼‰
- `archive_url`: ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»URLï¼ˆHLS .m3u8ï¼‰
- `created_at`: ä½œæˆæ—¥æ™‚
- `updated_at`: æ›´æ–°æ—¥æ™‚

#### 4.2.4 tickets ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE tickets (
  id SERIAL PRIMARY KEY,
  event_id INTEGER NOT NULL REFERENCES events(id) ON DELETE CASCADE,
  name VARCHAR(100) NOT NULL,
  price INTEGER NOT NULL,
  currency VARCHAR(3) DEFAULT 'JPY',
  description TEXT,
  stock INTEGER,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_tickets_event_id ON tickets(event_id);
CREATE INDEX idx_tickets_is_active ON tickets(is_active);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: ãƒã‚±ãƒƒãƒˆIDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `event_id`: ã‚¤ãƒ™ãƒ³ãƒˆIDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `name`: ãƒã‚±ãƒƒãƒˆå
- `price`: ä¾¡æ ¼ï¼ˆæ•´æ•°ã€æœ€å°å˜ä½ï¼‰
- `currency`: é€šè²¨ã‚³ãƒ¼ãƒ‰ï¼ˆJPY, USDï¼‰
- `description`: èª¬æ˜
- `stock`: åœ¨åº«æ•°ï¼ˆNULL = ç„¡åˆ¶é™ï¼‰
- `is_active`: æœ‰åŠ¹/ç„¡åŠ¹
- `created_at`: ä½œæˆæ—¥æ™‚
- `updated_at`: æ›´æ–°æ—¥æ™‚

#### 4.2.5 purchases ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE purchases (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id) ON DELETE SET NULL,
  event_id INTEGER NOT NULL REFERENCES events(id) ON DELETE CASCADE,
  ticket_id INTEGER REFERENCES tickets(id) ON DELETE SET NULL,
  stripe_session_id VARCHAR(255) UNIQUE,
  stripe_payment_intent_id VARCHAR(255),
  amount INTEGER NOT NULL,
  currency VARCHAR(3) DEFAULT 'JPY',
  status VARCHAR(20) DEFAULT 'pending',
  access_token TEXT,
  token_expires_at TIMESTAMP,
  purchased_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_purchases_user_id ON purchases(user_id);
CREATE INDEX idx_purchases_event_id ON purchases(event_id);
CREATE INDEX idx_purchases_stripe_session_id ON purchases(stripe_session_id);
CREATE INDEX idx_purchases_status ON purchases(status);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: è³¼å…¥IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `user_id`: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `event_id`: ã‚¤ãƒ™ãƒ³ãƒˆIDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `ticket_id`: ãƒã‚±ãƒƒãƒˆIDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `stripe_session_id`: Stripe Checkout Session ID
- `stripe_payment_intent_id`: Stripe Payment Intent ID
- `amount`: é‡‘é¡
- `currency`: é€šè²¨ã‚³ãƒ¼ãƒ‰
- `status`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`pending`, `completed`, `refunded`ï¼‰
- `access_token`: è¦–è´ç”¨ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆJWTï¼‰
- `token_expires_at`: ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™
- `purchased_at`: è³¼å…¥æ—¥æ™‚

#### 4.2.6 password_reset_tokens ãƒ†ãƒ¼ãƒ–ãƒ«

```sql
CREATE TABLE password_reset_tokens (
  id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  token VARCHAR(255) NOT NULL UNIQUE,
  expires_at TIMESTAMP NOT NULL,
  used BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_password_reset_tokens_token ON password_reset_tokens(token);
CREATE INDEX idx_password_reset_tokens_user_id ON password_reset_tokens(user_id);
```

**ã‚«ãƒ©ãƒ èª¬æ˜**:
- `id`: ãƒˆãƒ¼ã‚¯ãƒ³IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
- `user_id`: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
- `token`: ãƒªã‚»ãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆä¸€æ„ï¼‰
- `expires_at`: æœ‰åŠ¹æœŸé™
- `used`: ä½¿ç”¨æ¸ˆã¿ãƒ•ãƒ©ã‚°
- `created_at`: ä½œæˆæ—¥æ™‚

### 4.3 ERå›³

```
users                    password_reset_tokens
+----------------+       +---------------------+
| id (PK)        |â—„â”€â”€â”€â”€â”€â”€â”¤ user_id (FK)        |
| name           |       | token               |
| email          |       | expires_at          |
| password       |       | used                |
| created_at     |       +---------------------+
| updated_at     |
+----------------+
      â”‚
      â”‚ 1
      â”‚
      â”‚ *
purchases
+-------------------------+
| id (PK)                 |
| user_id (FK)            |â—„â”€â”€â”€â”€â”€â”€â”
| event_id (FK)           |       â”‚
| ticket_id (FK)          |       â”‚
| stripe_session_id       |       â”‚
| amount                  |       â”‚
| status                  |       â”‚
| access_token            |       â”‚
| token_expires_at        |       â”‚
| purchased_at            |       â”‚
+-------------------------+       â”‚
      â”‚                           â”‚
      â”‚ *                         â”‚ 1
      â”‚                           â”‚
      â–¼                           â”‚
events                    artists
+------------------+      +------------------+
| id (PK)          |      | id (PK)          |
| title            |      | name             |
| slug             |      | slug             |
| description      |      | description      |
| artist_id (FK)   |â”€â”€â”€â”€â”€â”€â–º image_url        |
| start_time       |      | created_at       |
| status           |      | updated_at       |
| thumbnail_url    |      +------------------+
| stream_url       |
| archive_url      |
| created_at       |
| updated_at       |
+------------------+
      â”‚
      â”‚ 1
      â”‚
      â”‚ *
tickets
+------------------+
| id (PK)          |
| event_id (FK)    |
| name             |
| price            |
| currency         |
| description      |
| stock            |
| is_active        |
| created_at       |
| updated_at       |
+------------------+
```

---

## 5. APIä»•æ§˜

### 5.1 èªè¨¼API

#### 5.1.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/register`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "name": "å±±ç”°å¤ªéƒ",
  "email": "user@example.com",
  "password": "SecurePass123!"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "message": "User registered successfully",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "name": "å±±ç”°å¤ªéƒ",
    "email": "user@example.com"
  }
}
```

**ã‚¨ãƒ©ãƒ¼** (400 Bad Request):
```json
{
  "error": "Email already exists"
}
```

**å®Ÿè£…**: `app/api/auth/register/route.ts`

#### 5.1.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/login`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "email": "user@example.com",
  "password": "SecurePass123!"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "name": "å±±ç”°å¤ªéƒ",
    "email": "user@example.com"
  }
}
```

**ã‚¨ãƒ©ãƒ¼** (401 Unauthorized):
```json
{
  "error": "Invalid email or password"
}
```

**å®Ÿè£…**: `app/api/auth/login/route.ts`

#### 5.1.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/auth/me`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer <JWT_TOKEN>
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "user": {
    "id": 1,
    "name": "å±±ç”°å¤ªéƒ",
    "email": "user@example.com"
  }
}
```

**ã‚¨ãƒ©ãƒ¼** (401 Unauthorized):
```json
{
  "error": "Unauthorized"
}
```

**å®Ÿè£…**: `app/api/auth/me/route.ts`

#### 5.1.4 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆè¦æ±‚

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/forgot-password`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "email": "user@example.com"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "message": "Password reset email sent"
}
```

**å®Ÿè£…**: `app/api/auth/forgot-password/route.ts`

#### 5.1.5 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/reset-password`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "token": "reset_token_here",
  "newPassword": "NewSecurePass456!"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "message": "Password reset successfully"
}
```

**ã‚¨ãƒ©ãƒ¼** (400 Bad Request):
```json
{
  "error": "Invalid or expired token"
}
```

**å®Ÿè£…**: `app/api/auth/reset-password/route.ts`

### 5.2 ã‚¤ãƒ™ãƒ³ãƒˆAPI

#### 5.2.1 ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/events`

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `status`: ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆ`live`, `upcoming`, `archived`ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "events": [
    {
      "id": 1,
      "title": "Summer Live 2026",
      "slug": "summer-live-2026",
      "description": "æœ€é«˜ã®å¤ã®ãƒ©ã‚¤ãƒ–ï¼",
      "artist_id": 1,
      "artist_name": "Artist Name",
      "start_time": "2026-07-15T19:00:00Z",
      "status": "upcoming",
      "thumbnail_url": "https://example.com/thumb.jpg"
    }
  ]
}
```

**å®Ÿè£…**: `app/api/events/route.ts`

#### 5.2.2 ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/events/[slug]`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "event": {
    "id": 1,
    "title": "Summer Live 2026",
    "slug": "summer-live-2026",
    "description": "è©³ç´°ãªèª¬æ˜...",
    "artist_id": 1,
    "artist_name": "Artist Name",
    "artist_slug": "artist-name",
    "start_time": "2026-07-15T19:00:00Z",
    "status": "upcoming",
    "thumbnail_url": "https://example.com/thumb.jpg",
    "stream_url": "https://stream.example.com/live.m3u8",
    "archive_url": null
  }
}
```

**ã‚¨ãƒ©ãƒ¼** (404 Not Found):
```json
{
  "error": "Event not found"
}
```

**å®Ÿè£…**: `app/api/events/[slug]/route.ts`

#### 5.2.3 ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒã‚±ãƒƒãƒˆä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/events/[slug]/tickets`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "tickets": [
    {
      "id": 1,
      "event_id": 1,
      "name": "ä¸€èˆ¬ãƒã‚±ãƒƒãƒˆ",
      "price": 3000,
      "currency": "JPY",
      "description": "é€šå¸¸ã®è¦–è´ãƒã‚±ãƒƒãƒˆ",
      "stock": 100,
      "is_active": true
    }
  ]
}
```

**å®Ÿè£…**: `app/api/events/[slug]/tickets/route.ts`

### 5.3 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆAPI

#### 5.3.1 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/artists`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "artists": [
    {
      "id": 1,
      "name": "Artist Name",
      "slug": "artist-name",
      "description": "ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆèª¬æ˜",
      "image_url": "https://example.com/artist.jpg"
    }
  ]
}
```

**å®Ÿè£…**: `app/api/artists/route.ts`

#### 5.3.2 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆè©³ç´°å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/artists/[slug]`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "artist": {
    "id": 1,
    "name": "Artist Name",
    "slug": "artist-name",
    "description": "è©³ç´°ãªèª¬æ˜...",
    "image_url": "https://example.com/artist.jpg"
  },
  "events": [
    {
      "id": 1,
      "title": "Summer Live 2026",
      "slug": "summer-live-2026",
      "start_time": "2026-07-15T19:00:00Z",
      "status": "upcoming",
      "thumbnail_url": "https://example.com/thumb.jpg"
    }
  ]
}
```

**å®Ÿè£…**: `app/api/artists/[slug]/route.ts`

### 5.4 è³¼å…¥API

#### 5.4.1 è³¼å…¥å±¥æ­´å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/purchases/my`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer <JWT_TOKEN>
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "purchases": [
    {
      "id": 1,
      "event_id": 1,
      "event_title": "Summer Live 2026",
      "event_slug": "summer-live-2026",
      "ticket_name": "ä¸€èˆ¬ãƒã‚±ãƒƒãƒˆ",
      "amount": 3000,
      "currency": "JPY",
      "status": "completed",
      "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
      "token_expires_at": "2026-08-15T19:00:00Z",
      "purchased_at": "2026-07-10T10:30:00Z"
    }
  ]
}
```

**å®Ÿè£…**: `app/api/purchases/my/route.ts`

#### 5.4.2 è³¼å…¥å®Œäº†ç¢ºèª

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/purchases/[sessionId]`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "purchase": {
    "id": 1,
    "event_id": 1,
    "event_title": "Summer Live 2026",
    "status": "completed",
    "amount": 3000,
    "currency": "JPY"
  }
}
```

**å®Ÿè£…**: `app/api/purchases/[sessionId]/route.ts`

### 5.5 Stripe API

#### 5.5.1 Checkout Sessionä½œæˆ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/stripe/checkout`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Authorization: Bearer <JWT_TOKEN>
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "ticketId": 1,
  "eventSlug": "summer-live-2026"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "sessionId": "cs_test_a1b2c3d4e5f6...",
  "url": "https://checkout.stripe.com/pay/cs_test_..."
}
```

**å®Ÿè£…**: `app/api/stripe/checkout/route.ts`

#### 5.5.2 Webhook

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/stripe/webhook`

**å‡¦ç†ã‚¤ãƒ™ãƒ³ãƒˆ**:
- `checkout.session.completed`: è³¼å…¥å®Œäº†ã€purchasesãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°
- `charge.refunded`: è¿”é‡‘ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

**å®Ÿè£…**: `app/api/stripe/webhook/route.ts`

### 5.6 è¦–è´API

#### 5.6.1 è¦–è´ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/watch/verify`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "token": "access_token_jwt",
  "eventSlug": "summer-live-2026"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "valid": true,
  "event": {
    "id": 1,
    "title": "Summer Live 2026",
    "slug": "summer-live-2026",
    "status": "live",
    "description": "...",
    "artist_name": "Artist Name",
    "start_time": "2026-07-15T19:00:00Z"
  }
}
```

**ã‚¨ãƒ©ãƒ¼** (401 Unauthorized):
```json
{
  "error": "Invalid or expired token"
}
```

**å®Ÿè£…**: `app/api/watch/verify/route.ts`

#### 5.6.2 ã‚¹ãƒˆãƒªãƒ¼ãƒ URLå–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/watch/stream-url`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "token": "access_token_jwt",
  "eventSlug": "summer-live-2026"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "streamUrl": "https://cdn.example.com/live.m3u8?signature=...",
  "status": "live"
}
```

**ã‚¨ãƒ©ãƒ¼** (404 Not Found):
```json
{
  "error": "ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°URLãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“"
}
```

**å®Ÿè£…**: `app/api/watch/stream-url/route.ts`

### 5.7 ç®¡ç†API

#### 5.7.1 çµ±è¨ˆæƒ…å ±å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/admin/stats`

**èªè¨¼**: Basicèªè¨¼

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):
```json
{
  "totalRevenue": 150000,
  "totalPurchases": 50,
  "totalEvents": 10,
  "totalArtists": 5
}
```

**å®Ÿè£…**: `app/api/admin/stats/route.ts`

#### 5.7.2 ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†API

**ä¸€è¦§å–å¾—**: `GET /api/admin/events`  
**ä½œæˆ**: `POST /api/admin/events`  
**æ›´æ–°**: `PUT /api/admin/events/[id]`  
**å‰Šé™¤**: `DELETE /api/admin/events/[id]`

**å®Ÿè£…**: `app/api/admin/events/route.ts`, `app/api/admin/events/[id]/route.ts`

#### 5.7.3 ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç®¡ç†API

**ä¸€è¦§å–å¾—**: `GET /api/admin/artists`  
**ä½œæˆ**: `POST /api/admin/artists`  
**æ›´æ–°**: `PUT /api/admin/artists/[id]`  
**å‰Šé™¤**: `DELETE /api/admin/artists/[id]`

**å®Ÿè£…**: `app/api/admin/artists/route.ts`, `app/api/admin/artists/[id]/route.ts`

#### 5.7.4 ãƒã‚±ãƒƒãƒˆç®¡ç†API

**ä¸€è¦§å–å¾—**: `GET /api/admin/tickets`  
**ä½œæˆ**: `POST /api/admin/tickets`  
**æ›´æ–°**: `PUT /api/admin/tickets/[id]`  
**å‰Šé™¤**: `DELETE /api/admin/tickets/[id]`

**å®Ÿè£…**: `app/api/admin/tickets/route.ts`, `app/api/admin/tickets/[id]/route.ts`

---

## 6. èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 6.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼

#### 6.1.1 JWTèªè¨¼

**ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ**:
```typescript
import jwt from 'jsonwebtoken';

const token = jwt.sign(
  { userId: user.id, email: user.email },
  process.env.JWT_SECRET!,
  { expiresIn: '7d' }
);
```

**ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼**:
```typescript
import { verifyToken } from '@/lib/auth';

const payload = verifyToken(token);
if (!payload) {
  return { error: 'Unauthorized' };
}
```

**å®Ÿè£…**: `lib/auth.ts`, `lib/userAuth.ts`

#### 6.1.2 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–

```typescript
import bcrypt from 'bcryptjs';

// ãƒãƒƒã‚·ãƒ¥åŒ–
const hashedPassword = await bcrypt.hash(password, 10);

// æ¤œè¨¼
const isValid = await bcrypt.compare(password, hashedPassword);
```

**å®Ÿè£…**: `app/api/auth/register/route.ts`, `app/api/auth/login/route.ts`

#### 6.1.3 localStorageç®¡ç†

**ä¿å­˜**:
```typescript
import { setAuthToken } from '@/lib/userAuth';

setAuthToken(token); // localStorage.setItem('auth_token', token)
```

**å–å¾—**:
```typescript
import { getAuthToken } from '@/lib/userAuth';

const token = getAuthToken(); // localStorage.getItem('auth_token')
```

**å‰Šé™¤**:
```typescript
import { removeAuthToken } from '@/lib/userAuth';

removeAuthToken(); // localStorage.removeItem('auth_token')
```

**å®Ÿè£…**: `lib/userAuth.ts`

**é‡è¦**: SSRéå¯¾å¿œå•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã€`mounted`çŠ¶æ…‹ç®¡ç†ã‚’å®Ÿè£…

### 6.2 ç®¡ç†è€…èªè¨¼

#### 6.2.1 Basicèªè¨¼

**å®Ÿè£…**:
```typescript
import { authenticate } from '@/lib/adminAuth';

const authResult = authenticate(request);
if (!authResult.authenticated) {
  return new Response('Unauthorized', {
    status: 401,
    headers: {
      'WWW-Authenticate': 'Basic realm="Admin Area"'
    }
  });
}
```

**ç’°å¢ƒå¤‰æ•°**:
```bash
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
```

**å®Ÿè£…**: `lib/adminAuth.ts`

### 6.3 è¦–è´èªè¨¼

#### 6.3.1 ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³

è³¼å…¥å®Œäº†æ™‚ã«ç”Ÿæˆã•ã‚Œã‚‹JWTï¼š

```typescript
const accessToken = jwt.sign(
  { 
    purchaseId: purchase.id,
    userId: user.id,
    eventId: event.id
  },
  process.env.JWT_SECRET!,
  { expiresIn: '30d' }
);
```

**æœ‰åŠ¹æœŸé™**: 30æ—¥é–“

**å®Ÿè£…**: `app/api/stripe/webhook/route.ts`

#### 6.3.2 è¦–è´å‰æ¤œè¨¼

```typescript
// 1. ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
const payload = verifyToken(accessToken);

// 2. ã‚¤ãƒ™ãƒ³ãƒˆIDä¸€è‡´ç¢ºèª
if (payload.eventId !== event.id) {
  return { error: 'Token not valid for this event' };
}

// 3. æœ‰åŠ¹æœŸé™ç¢ºèªï¼ˆDBã§ç®¡ç†ï¼‰
if (new Date() > purchase.token_expires_at) {
  return { error: 'Token expired' };
}
```

**å®Ÿè£…**: `app/api/watch/verify/route.ts`

### 6.4 CSRFå¯¾ç­–

Next.jsã®API Routesã¯è‡ªå‹•çš„ã«SameSite Cookieå±æ€§ã‚’è¨­å®šã€‚

### 6.5 XSSå¯¾ç­–

- Reactã®è‡ªå‹•ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚’åˆ©ç”¨
- `dangerouslySetInnerHTML`ã¯ä½¿ç”¨ã—ãªã„

### 6.6 SQL Injectionå¯¾ç­–

- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨

```typescript
const result = await query(
  'SELECT * FROM users WHERE email = $1',
  [email]
);
```

**å®Ÿè£…**: `lib/db.ts`

---

## 7. æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ 

### 7.1 Stripeçµ±åˆ

#### 7.1.1 Checkout Session

**ãƒ•ãƒ­ãƒ¼**:
```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒã‚±ãƒƒãƒˆé¸æŠ
   â†“
2. POST /api/stripe/checkout
   - Stripe Checkout Sessionä½œæˆ
   - success_url: /success?session_id={CHECKOUT_SESSION_ID}
   - cancel_url: /events/[slug]
   â†“
3. Stripeã®æ±ºæ¸ˆç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   â†“
4. æ±ºæ¸ˆå®Œäº†
   â†“
5. /success ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   â†“
6. WebhookçµŒç”±ã§è³¼å…¥ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
```

**Checkout Sessionä½œæˆ**:
```typescript
import Stripe from 'stripe';

const stripe = new Stripe(process.env.STRIPE_SECRET_KEY!);

const session = await stripe.checkout.sessions.create({
  payment_method_types: ['card'],
  line_items: [{
    price_data: {
      currency: ticket.currency,
      product_data: {
        name: `${event.title} - ${ticket.name}`,
        description: event.description,
      },
      unit_amount: ticket.price,
    },
    quantity: 1,
  }],
  mode: 'payment',
  success_url: `${process.env.NEXT_PUBLIC_APP_URL}/success?session_id={CHECKOUT_SESSION_ID}`,
  cancel_url: `${process.env.NEXT_PUBLIC_APP_URL}/events/${eventSlug}`,
  metadata: {
    userId: user.id,
    eventId: event.id,
    ticketId: ticket.id,
  },
});
```

**å®Ÿè£…**: `app/api/stripe/checkout/route.ts`

#### 7.1.2 Webhookå‡¦ç†

**ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†**:

1. **checkout.session.completed**
   - è³¼å…¥ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
   - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
   - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: `completed`

2. **charge.refunded**
   - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°: `refunded`

**Webhookæ¤œè¨¼**:
```typescript
const sig = request.headers.get('stripe-signature');
const event = stripe.webhooks.constructEvent(
  body,
  sig,
  process.env.STRIPE_WEBHOOK_SECRET!
);
```

**å®Ÿè£…**: `app/api/stripe/webhook/route.ts`

#### 7.1.3 ãƒ†ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰

**æˆåŠŸ**:
- ã‚«ãƒ¼ãƒ‰ç•ªå·: `4242 4242 4242 4242`
- æœ‰åŠ¹æœŸé™: ä»»æ„ã®æœªæ¥ã®æ—¥ä»˜
- CVC: ä»»æ„ã®3æ¡

**å¤±æ•—**:
- ã‚«ãƒ¼ãƒ‰ç•ªå·: `4000 0000 0000 0002`

### 7.2 åœ¨åº«ç®¡ç†

ãƒã‚±ãƒƒãƒˆã®`stock`ã‚«ãƒ©ãƒ ã§ç®¡ç†ï¼š
- `NULL`: ç„¡åˆ¶é™
- `æ•°å€¤`: åœ¨åº«æ•°

è³¼å…¥æ™‚ã«åœ¨åº«ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè£…æ¨å¥¨ï¼‰ã€‚

---

## 8. å‹•ç”»é…ä¿¡ã‚·ã‚¹ãƒ†ãƒ 

### 8.1 AWS IVSçµ±åˆ

#### 8.1.1 ã‚¹ãƒˆãƒªãƒ¼ãƒ è¨­å®š

**IVSãƒãƒ£ãƒ³ãƒãƒ«è¨­å®š**:
- ãƒãƒ£ãƒ³ãƒãƒ«ã‚¿ã‚¤ãƒ—: STANDARD or BASIC
- Transcoding: æœ‰åŠ¹ï¼ˆè¤‡æ•°ç”»è³ªé…ä¿¡ï¼‰
- æ¨å¥¨ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆ:
  - 1080p: 4-6 Mbps
  - 720p: 2-3 Mbps
  - 480p: 1-1.5 Mbps
  - 360p: 0.5-1 Mbps

**Playback URL**: `https://xxxxx.ap-northeast-1.playback.live-video.net/api/video/v1/...m3u8`

**å®Ÿè£…**: `events.stream_url` ã«ä¿å­˜

#### 8.1.2 HLS.js ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼

**åˆæœŸåŒ–**:
```typescript
import Hls from 'hls.js';

const hls = new Hls({
  enableWorker: true,
  lowLatencyMode: true,
  debug: false,
});

hls.loadSource(streamUrl);
hls.attachMedia(video);
```

**ç”»è³ªãƒ¬ãƒ™ãƒ«å–å¾—**:
```typescript
hls.on(Hls.Events.MANIFEST_PARSED, () => {
  const levels = hls.levels.map((level, index) => ({
    level: index,
    height: level.height,
    bitrate: level.bitrate,
  }));
  setAvailableQualities(levels);
});
```

**ç”»è³ªåˆ‡ã‚Šæ›¿ãˆ**:
```typescript
hls.currentLevel = level; // -1: auto, 0+: specific level
```

**å®Ÿè£…**: `components/WatchPlayer.tsx`

#### 8.1.3 Safariå¯¾å¿œ

Safariã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã§HLSã‚’ã‚µãƒãƒ¼ãƒˆï¼š
```typescript
if (video.canPlayType('application/vnd.apple.mpegurl')) {
  video.src = streamUrl; // ãƒã‚¤ãƒ†ã‚£ãƒ–å†ç”Ÿ
} else if (Hls.isSupported()) {
  // HLS.js ä½¿ç”¨
}
```

**æ³¨æ„**: Safari ã§ã¯ç”»è³ªã®æ‰‹å‹•åˆ‡ã‚Šæ›¿ãˆãŒã§ããªã„ï¼ˆè‡ªå‹•ã®ã¿ï¼‰

### 8.2 CloudFrontç½²åä»˜ãURLï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### 8.2.1 ç½²åç”Ÿæˆ

```typescript
import { getSignedUrl } from '@aws-sdk/cloudfront-signer';

const signedUrl = getSignedUrl({
  url: streamUrl,
  keyPairId: process.env.CLOUDFRONT_KEY_PAIR_ID!,
  privateKey: process.env.CLOUDFRONT_PRIVATE_KEY!,
  dateLessThan: new Date(Date.now() + 3600 * 1000).toISOString(),
});
```

**å®Ÿè£…**: `lib/cloudfront.ts`

**ç’°å¢ƒå¤‰æ•°**:
```bash
CLOUDFRONT_KEY_PAIR_ID=APKAXXXXXXXXXXXXXXXX
CLOUDFRONT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n..."
```

### 8.3 ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»

**ä¿å­˜å…ˆ**: `events.archive_url`

**åˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯**:
```typescript
const url = event.status === 'live' 
  ? event.stream_url 
  : event.archive_url || event.stream_url;
```

**å®Ÿè£…**: `app/api/watch/stream-url/route.ts`

---

## 9. UI/UXãƒ‡ã‚¶ã‚¤ãƒ³

### 9.1 ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

#### 9.1.1 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

**ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼**:
- ç´«: `#8B5CF6` (purple-500)
- æ¿ƒã„ç´«: `#7C3AED` (purple-600)
- æš—ã„ç´«: `#6D28D9` (purple-700)

**èƒŒæ™¯**:
- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: `from-gray-900 via-purple-900/20 to-gray-900`
- ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼: `#111827` (gray-900)
- ãƒ–ãƒ©ãƒƒã‚¯: `#000000`

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ©ãƒ¼**:
- æˆåŠŸ/å®Œäº†: `#10B981` (green-500)
- ã‚¨ãƒ©ãƒ¼/é…ä¿¡ä¸­: `#EF4444` (red-500)
- è­¦å‘Š/é…ä¿¡äºˆå®š: `#3B82F6` (blue-500)
- ã‚°ãƒ¬ãƒ¼/ä¸‹æ›¸ã: `#6B7280` (gray-500)

#### 9.1.2 ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£

- ãƒ•ã‚©ãƒ³ãƒˆ: ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (`font-sans`)
- è¦‹å‡ºã—: `text-2xl`, `text-3xl`, `font-bold`
- æœ¬æ–‡: `text-base`, `text-sm`
- ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³: `text-xs`

#### 9.1.3 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒœã‚¿ãƒ³**:
```tsx
<button className="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition">
  ã‚¯ãƒªãƒƒã‚¯
</button>
```

**ã‚«ãƒ¼ãƒ‰**:
```tsx
<div className="bg-black/40 backdrop-blur-md rounded-xl border border-gray-800/50 p-6">
  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
</div>
```

**ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ **:
```tsx
<div className="bg-black/60 backdrop-blur-lg rounded-2xl">
  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
</div>
```

### 9.2 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

#### 9.2.1 ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ

| ã‚µã‚¤ã‚º | å¹… | Tailwind |
|--------|---|----------|
| ãƒ¢ãƒã‚¤ãƒ« | < 640px | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
| ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ | 640px - 1024px | `sm:`, `md:` |
| ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— | > 1024px | `lg:`, `xl:` |

#### 9.2.2 ã‚°ãƒªãƒƒãƒ‰

**ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰**:
```tsx
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
  {/* ã‚«ãƒ¼ãƒ‰ */}
</div>
```

**ç”»è³ªãƒœã‚¿ãƒ³**:
```tsx
<div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2">
  {/* ãƒœã‚¿ãƒ³ */}
</div>
```

### 9.3 ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**ãƒ›ãƒãƒ¼åŠ¹æœ**:
```tsx
<button className="hover:scale-105 transition-all">
  ãƒœã‚¿ãƒ³
</button>
```

**é…ä¿¡ä¸­ãƒãƒƒã‚¸**:
```tsx
<span className="animate-pulse">é…ä¿¡ä¸­</span>
```

**ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**:
```tsx
<i className="fas fa-spinner fa-spin"></i>
```

### 9.4 ã‚¢ã‚¤ã‚³ãƒ³

**Font Awesome** (CDN):
```html
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
```

**ä½¿ç”¨ä¾‹**:
```tsx
<i className="fas fa-user"></i>        {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ */}
<i className="fas fa-calendar"></i>    {/* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ */}
<i className="fas fa-play"></i>        {/* å†ç”Ÿ */}
<i className="fas fa-broadcast-tower"></i> {/* é…ä¿¡ */}
```

---

## 10. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### 10.1 ç’°å¢ƒå¤‰æ•°

`.env.local`:
```bash
# Database
DATABASE_URL=postgresql://user:pass@host:5432/streaming_platform

# Stripe
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# JWT & Admin
JWT_SECRET=your_secret_key_min_32_chars
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_password

# App URL
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# CloudFront (Optional)
CLOUDFRONT_KEY_PAIR_ID=APKAXXXXXXXXXXXXXXXX
CLOUDFRONT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n..."

# Email (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@email.com
SMTP_PASS=your_password
SMTP_FROM=noreply@yourdomain.com
```

### 10.2 AWS EC2ãƒ‡ãƒ—ãƒ­ã‚¤

#### 10.2.1 EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æº–å‚™

```bash
# Node.js ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo yum install -y nodejs

# PM2 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo npm install -g pm2

# PostgreSQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
sudo yum install -y postgresql
```

#### 10.2.2 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
cd /home/ec2-user
git clone https://github.com/yotamatsumaru/0222-VOD.git webapp
cd webapp

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
nano .env.local
# ä¸Šè¨˜ã®ç’°å¢ƒå¤‰æ•°ã‚’å…¥åŠ›

# ãƒ“ãƒ«ãƒ‰
npm run build

# PM2ã§èµ·å‹•
pm2 start npm --name "streaming-app" -- start
pm2 save
pm2 startup
```

#### 10.2.3 Nginxè¨­å®š

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### 10.2.4 ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

`deploy.sh`:
```bash
#!/bin/bash
set -e

echo "ğŸš€ Starting deployment..."

# Git pull
git pull origin main

# Install dependencies
npm install

# Build
npm run build

# Restart PM2
pm2 restart streaming-app

echo "âœ… Deployment completed!"
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
chmod +x deploy.sh
./deploy.sh
```

### 10.3 AWS RDSè¨­å®š

#### 10.3.1 PostgreSQLä½œæˆ

- Engine: PostgreSQL 14+
- Instance class: db.t3.micro (é–‹ç™ºç”¨)
- Storage: 20GB SSD
- Public access: No (VPCå†…ã®ã¿)

#### 10.3.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—

EC2ã‹ã‚‰RDSã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ï¼š
```
Type: PostgreSQL
Protocol: TCP
Port: 5432
Source: <EC2 Security Group>
```

#### 10.3.3 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–

```bash
# RDSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«æ¥ç¶š
psql -h <rds-endpoint> -U postgres -d streaming_platform

# ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆåˆå›ã®ã¿ï¼‰
\i schema.sql
```

### 10.4 SSL/TLSè¨­å®š

#### 10.4.1 Let's Encrypt

```bash
# Certbot ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo yum install -y certbot python3-certbot-nginx

# SSLè¨¼æ˜æ›¸å–å¾—
sudo certbot --nginx -d yourdomain.com

# è‡ªå‹•æ›´æ–°è¨­å®š
sudo certbot renew --dry-run
```

### 10.5 ç›£è¦–ãƒ»ãƒ­ã‚°

#### 10.5.1 PM2ãƒ­ã‚°

```bash
# ãƒ­ã‚°ç¢ºèª
pm2 logs streaming-app

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿
pm2 logs streaming-app --err

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
pm2 monit
```

#### 10.5.2 CloudWatchï¼ˆæ¨å¥¨ï¼‰

EC2ãƒ¡ãƒˆãƒªã‚¯ã‚¹:
- CPUä½¿ç”¨ç‡
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯

RDSãƒ¡ãƒˆãƒªã‚¯ã‚¹:
- DBæ¥ç¶šæ•°
- CPUä½¿ç”¨ç‡
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡

---

## 11. é–‹ç™ºã‚¬ã‚¤ãƒ‰

### 11.1 ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

#### 11.1.1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yotamatsumaru/0222-VOD.git
cd 0222-VOD

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env.local
nano .env.local

# ãƒ­ãƒ¼ã‚«ãƒ«PostgreSQLèµ·å‹•
createdb streaming_platform

# ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
psql -d streaming_platform -f schema.sql

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹

#### 11.1.2 é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰èµ·å‹•
npm start

# Linter
npm run lint

# å‹ãƒã‚§ãƒƒã‚¯
npx tsc --noEmit
```

### 11.2 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

#### 11.2.1 TypeScript

- å‹å®šç¾©ã‚’æ˜ç¤ºï¼ˆ`any`ã¯é¿ã‘ã‚‹ï¼‰
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯`lib/types.ts`ã«é›†ç´„
- `async/await`ã‚’ä½¿ç”¨ï¼ˆPromiseãƒã‚§ãƒ¼ãƒ³ã¯é¿ã‘ã‚‹ï¼‰

#### 11.2.2 React

- Functional Component ã‚’ä½¿ç”¨
- `'use client'`ã‚’å¿…è¦ãªå ´åˆã®ã¿è¿½åŠ 
- Hooksã®é †åºã‚’å®ˆã‚‹

#### 11.2.3 å‘½åè¦å‰‡

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: PascalCase (`EventCard.tsx`)
- é–¢æ•°: camelCase (`getUserInfo`)
- å®šæ•°: UPPER_SNAKE_CASE (`JWT_SECRET`)
- ãƒ•ã‚¡ã‚¤ãƒ«: kebab-case ã¾ãŸã¯PascalCase

### 11.3 Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### 11.3.1 ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

```
main (æœ¬ç•ª)
  â””â”€â”€ develop (é–‹ç™º)
       â”œâ”€â”€ feature/xxx (æ–°æ©Ÿèƒ½)
       â”œâ”€â”€ fix/xxx (ãƒã‚°ä¿®æ­£)
       â””â”€â”€ refactor/xxx (ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°)
```

#### 11.3.2 ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```
<type>(<scope>): <subject>

feat: æ–°æ©Ÿèƒ½
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
style: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆ
chore: ãã®ä»–
```

**ä¾‹**:
```bash
git commit -m "feat(watch): ç”»è³ªè¨­å®šã‚’å‹•ç”»ã®ä¸‹ã«é…ç½®"
git commit -m "fix(mypage): auth_tokenã‚­ãƒ¼ã«çµ±ä¸€"
```

### 11.4 ãƒ†ã‚¹ãƒˆ

#### 11.4.1 æ‰‹å‹•ãƒ†ã‚¹ãƒˆé …ç›®

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼**:
- [ ] æ–°è¦ç™»éŒ²
- [ ] ãƒ­ã‚°ã‚¤ãƒ³
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆé–²è¦§
- [ ] ãƒã‚±ãƒƒãƒˆè³¼å…¥ï¼ˆStripeãƒ†ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ï¼‰
- [ ] ãƒã‚¤ãƒšãƒ¼ã‚¸ç¢ºèª
- [ ] å‹•ç”»è¦–è´
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

**ç®¡ç†ãƒ•ãƒ­ãƒ¼**:
- [ ] ç®¡ç†ç”»é¢ãƒ­ã‚°ã‚¤ãƒ³
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- [ ] ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- [ ] ãƒã‚±ãƒƒãƒˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- [ ] è³¼å…¥å±¥æ­´ç¢ºèª

**ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**:
- [ ] ãƒ¢ãƒã‚¤ãƒ«ï¼ˆ375pxï¼‰
- [ ] ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆ768pxï¼‰
- [ ] ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆ1920pxï¼‰

#### 11.4.2 ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ

- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge

---

## 12. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 12.1 ã‚ˆãã‚ã‚‹å•é¡Œ

#### 12.1.1 ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„

**ç—‡çŠ¶**: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸå¾Œã€ãƒã‚¤ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**åŸå› **:
- `auth_token` ã¨ `authToken` ã®ã‚­ãƒ¼ä¸ä¸€è‡´
- SSRã§ã®localStorageéå¯¾å¿œ

**è§£æ±ºç­–**:
1. ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ `localStorage.clear()`
2. å†ãƒ­ã‚°ã‚¤ãƒ³
3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ç¢ºèª:
   ```
   [Navigation] Is authenticated: true
   [MyPage] Token exists: true
   ```

**å®Ÿè£…ä¿®æ­£æ¸ˆã¿**: ã‚³ãƒŸãƒƒãƒˆ `e84b739`

#### 12.1.2 ç”»è³ªãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç—‡çŠ¶**: è¦–è´ãƒšãƒ¼ã‚¸ã«ç”»è³ªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **:
- Safariï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–HLSï¼‰ä½¿ç”¨
- HLS.js ã§ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«ç”»è³ªãƒ¬ãƒ™ãƒ«ãŒå«ã¾ã‚Œã¦ã„ãªã„
- AWS IVS ã® Transcoding ãŒç„¡åŠ¹

**ç¢ºèªæ–¹æ³•**:
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«
[WatchPlayer] Available levels: 0  // å•é¡Œ
[WatchPlayer] Available levels: 3  // OK
```

**è§£æ±ºç­–**:
1. AWS IVS ãƒãƒ£ãƒ³ãƒãƒ«ã§ Transcoding ã‚’æœ‰åŠ¹åŒ–
2. è¤‡æ•°ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆè¨­å®šã‚’è¿½åŠ 

**ä»£æ›¿è¡¨ç¤º**: ã€Œè‡ªå‹•ç”»è³ªèª¿æ•´ä¸­ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

**å®Ÿè£…ä¿®æ­£æ¸ˆã¿**: ã‚³ãƒŸãƒƒãƒˆ `7903a04`

#### 12.1.3 Stripe Webhook ãŒå‹•ä½œã—ãªã„

**ç—‡çŠ¶**: è³¼å…¥å®Œäº†å¾Œã€ãƒã‚¤ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **:
- Webhook Secret ãŒæœªè¨­å®š
- Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒæœªç™»éŒ²

**ç¢ºèª**:
```bash
# Stripe CLI ã§ãƒ†ã‚¹ãƒˆ
stripe listen --forward-to localhost:3000/api/stripe/webhook
```

**è§£æ±ºç­–**:
1. Stripe Dashboard â†’ Webhooks â†’ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
   - URL: `https://yourdomain.com/api/stripe/webhook`
   - ã‚¤ãƒ™ãƒ³ãƒˆ: `checkout.session.completed`, `charge.refunded`
2. Webhook Secret ã‚’ `.env.local` ã«è¿½åŠ 

#### 12.1.4 å‹•ç”»ãŒå†ç”Ÿã•ã‚Œãªã„

**ç—‡çŠ¶**: è¦–è´ãƒšãƒ¼ã‚¸ã§ã€Œã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ã€

**åŸå› **:
- `stream_url` ãŒæœªè¨­å®š
- URLå½¢å¼ãŒæ­£ã—ããªã„ï¼ˆ.m3u8 ã§çµ‚ã‚ã£ã¦ã„ãªã„ï¼‰
- CORSè¨­å®š

**ç¢ºèª**:
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«
[WatchPlayer] Stream URL obtained: https://...m3u8
[WatchPlayer] HLS error: { type: 'networkError', ... }
```

**è§£æ±ºç­–**:
1. ç®¡ç†ç”»é¢ã§ã‚¤ãƒ™ãƒ³ãƒˆã® `stream_url` ã‚’ç¢ºèª
2. URLã‚’ç›´æ¥ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ã¦ç¢ºèª
3. AWS IVS ãƒãƒ£ãƒ³ãƒãƒ«ã®çŠ¶æ…‹ã‚’ç¢ºèª

#### 12.1.5 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `Error: Connection refused`

**åŸå› **:
- PostgreSQL ãŒèµ·å‹•ã—ã¦ã„ãªã„
- `DATABASE_URL` ãŒé–“é•ã£ã¦ã„ã‚‹
- RDS ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š

**è§£æ±ºç­–**:
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«
sudo service postgresql start
psql -d streaming_platform -c "SELECT 1"

# RDS
psql -h <rds-endpoint> -U postgres -d streaming_platform
```

**ç’°å¢ƒå¤‰æ•°ç¢ºèª**:
```bash
echo $DATABASE_URL
```

#### 12.1.6 ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `npm run build` ãŒå¤±æ•—

**åŸå› **:
- å‹ã‚¨ãƒ©ãƒ¼
- ç’°å¢ƒå¤‰æ•°æœªè¨­å®š
- ä¾å­˜é–¢ä¿‚ã®å•é¡Œ

**è§£æ±ºç­–**:
```bash
# ä¾å­˜é–¢ä¿‚å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install

# å‹ãƒã‚§ãƒƒã‚¯
npx tsc --noEmit

# è©³ç´°ãƒ­ã‚°
npm run build --verbose
```

### 12.2 ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

#### 12.2.1 ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«

**é–‹ãæ–¹**: F12 ã‚­ãƒ¼

**ç¢ºèªé …ç›®**:
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ï¼ˆAPIå‘¼ã³å‡ºã—ï¼‰
- Consoleãƒ­ã‚°ï¼ˆ`[WatchPlayer]`, `[MyPage]` ãªã©ï¼‰
- Application â†’ Local Storageï¼ˆ`auth_token`ï¼‰

#### 12.2.2 ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°

**PM2**:
```bash
pm2 logs streaming-app
pm2 logs streaming-app --err --lines 100
```

**Next.js é–‹ç™ºã‚µãƒ¼ãƒãƒ¼**:
```bash
npm run dev
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ­ã‚°ç¢ºèª
```

#### 12.2.3 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèª

```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª
SELECT * FROM users WHERE email = 'user@example.com';

-- è³¼å…¥å±¥æ­´ç¢ºèª
SELECT * FROM purchases WHERE user_id = 1;

-- ã‚¤ãƒ™ãƒ³ãƒˆç¢ºèª
SELECT id, title, slug, status, stream_url FROM events;
```

### 12.3 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### 12.3.1 ç”»åƒæœ€é©åŒ–

Next.js ã® Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰:
```tsx
import Image from 'next/image';

<Image 
  src={event.thumbnail_url} 
  alt={event.title}
  width={800}
  height={450}
  priority
/>
```

#### 12.3.2 ã‚³ãƒ¼ãƒ‰åˆ†å‰²

å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ:
```tsx
import dynamic from 'next/dynamic';

const WatchPlayer = dynamic(() => import('@/components/WatchPlayer'), {
  ssr: false,
  loading: () => <div>Loading...</div>
});
```

#### 12.3.3 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```sql
CREATE INDEX idx_events_slug ON events(slug);
CREATE INDEX idx_events_status ON events(status);
CREATE INDEX idx_purchases_user_id ON purchases(user_id);
```

---

## 13. ä»Šå¾Œã®æ”¹å–„æ¡ˆ

### 13.1 æ©Ÿèƒ½è¿½åŠ 

- [ ] ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ï¼ˆãƒ©ã‚¤ãƒ–ãƒãƒ£ãƒƒãƒˆï¼‰
- [ ] ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½
- [ ] é€šçŸ¥æ©Ÿèƒ½ï¼ˆãƒ¡ãƒ¼ãƒ«ã€ãƒ—ãƒƒã‚·ãƒ¥ï¼‰
- [ ] ã‚¯ãƒ¼ãƒãƒ³ãƒ»å‰²å¼•æ©Ÿèƒ½
- [ ] ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
- [ ] ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆGoogle, Twitterï¼‰
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼ˆReact Nativeï¼‰

### 13.2 æŠ€è¡“æ”¹å–„

- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆJest, React Testing Libraryï¼‰
- [ ] E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰
- [ ] CI/CDï¼ˆGitHub Actionsï¼‰
- [ ] DockeråŒ–
- [ ] Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- [ ] CDNçµ±åˆï¼ˆCloudFront, CloudFlareï¼‰
- [ ] ç›£è¦–ï¼ˆSentry, DataDogï¼‰

### 13.3 UXæ”¹å–„

- [ ] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
- [ ] å¤šè¨€èªå¯¾å¿œï¼ˆi18nï¼‰
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆWCAGæº–æ‹ ï¼‰
- [ ] PWAå¯¾å¿œ
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³è¦–è´ï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰

---

## 14. å‚è€ƒè³‡æ–™

### 14.1 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **Next.js**: https://nextjs.org/docs
- **TypeScript**: https://www.typescriptlang.org/docs
- **Tailwind CSS**: https://tailwindcss.com/docs
- **Stripe**: https://stripe.com/docs
- **HLS.js**: https://github.com/video-dev/hls.js
- **AWS IVS**: https://docs.aws.amazon.com/ivs/

### 14.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯

- **GitHub**: https://github.com/yotamatsumaru/0222-VOD
- **README**: [README.md](./README.md)
- **å®Œå…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [DOCUMENTATION.md](./DOCUMENTATION.md)

### 14.3 ãŠå•ã„åˆã‚ã›

æŠ€è¡“çš„ãªè³ªå•ã‚„å•é¡Œå ±å‘Šã¯ GitHub Issues ã«ãŠé¡˜ã„ã—ã¾ã™ã€‚

---

**æœ€çµ‚æ›´æ–°**: 2026-02-23  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ä½œæˆè€…**: AI Developer (Claude)
